<!DOCTYPE html>
<html lang="zh">
<head>
<!-- 2020-03-20 Fri 03:04 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JavaScriptç©è½¬Clojureå¤§æ³•ä¹‹ - Trampoline</title>
<meta name="generator" content="Org mode">
<meta name="author" content="Jichao Ouyang">
<meta name="description" content="åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­, é€’å½’å¯ä»¥è¯´æ˜¯æœ€å…³å¥ç”šè‡³å”¯ä¸€çš„å¾ªç¯æ‰‹æ®µ, Clojureçš„recurå¯ä»¥ä¿è¯å¾—åˆ° /å°¾é€’å½’/ ä¼˜åŒ–, è€Œç›¸äº’é€’å½’åˆ™ä¸èƒ½ç”¨recuræ¥ä¿è¯å¾—åˆ°ä¼˜åŒ–, å› æ­¤, å¦ä¸€ä¸ªå¤§æ³•å‡ºç°äº† -- /Trampoline/"
>
<meta name="keywords" content="clojure, javascript,js, trampoline, functional, fp, recursive, recur, mutual">
<link rel="icon" href="/favicon.ico">
<meta name="theme-color" content="#ffffff">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/style/toc.css"/>
<link rel="stylesheet" href="/style/tufte.css"/>
<link rel="alternate" type="application/rss+xml" title="Jichao Ouyang" href="https://feeds.oyanglul.us/JichaoOuyangsBlog"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJRFJGX"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<header>
    <a accesskey="h" href="/index.html"> HOME </a> |
    <a href="#" id="edit-in-github">EDIT</a> |
    <a href="https://feeds.oyanglul.us/JichaoOuyangsBlog">RSS</a> |
    <a href="https://blog.oyanglul.us/theindex">INDEX</a> |
    <a accesskey="H" href="/jichao.ouyang.html">ABOUT</a> |
    <a href="https://github.com/jcouyang/blog">GITHUB</a>
</header>
</div>
<div id="content">
<header>
<h1 class="title">JavaScriptç©è½¬Clojureå¤§æ³•ä¹‹ - Trampoline</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org2c2f5a7">å°¾é€’å½’(tail recursion)</a></li>
<li><a href="#org230666e">ç›¸äº’é€’å½’(mutual recursion)</a>
<ul>
<li><a href="#org01b5eb7">DFA</a></li>
<li><a href="#orgfa8a680">Trampoline</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<p>
<a href="https://blog.oyanglul.us/shutting-down-gulugulu">ğŸ“£ ä¸è¦å†æ‰¾äº†, å¼¹å¹•åŠŸèƒ½å·²å…³é—­</a>
</p>

<ul class="org-ul">
<li><a href="./clojure-core.async-essence-in-native-javascript.html">JavaScriptç©è½¬Clojureå¤§æ³•ä¹‹ - å¹¶å‘ç¼–ç¨‹</a></li>
<li><a href="./clojure-essence-in-javascript-transducer.html">JavaScriptç©è½¬Clojureå¤§æ³•ä¹‹ - Transducer</a></li>
<li><b><a href="./clojure-essence-in-javascript-trampoline.html">JavaScriptç©è½¬Clojureå¤§æ³•ä¹‹ - Trampoline</a></b></li>
<li><a href="./clojure-essence-in-javascript-macro.html">JavaScriptç©è½¬Clojureå¤§æ³•ä¹‹ - Macro (1)</a></li>
</ul>

<p>
åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­, é€’å½’å¯ä»¥è¯´æ˜¯æœ€å…³å¥ç”šè‡³å”¯ä¸€çš„å¾ªç¯æ‰‹æ®µ
</p>

<p>
Clojureçš„recurå¯ä»¥ä¿è¯å¾—åˆ° <i>å°¾é€’å½’</i> ä¼˜åŒ–, è€Œç›¸äº’é€’å½’åˆ™ä¸èƒ½ç”¨recuræ¥ä¿è¯å¾—åˆ°ä¼˜åŒ–, å› æ­¤
å¦ä¸€ä¸ªå¤§æ³•å‡ºç°äº† &#x2013; <i>Trampoline</i>
</p>


<figure>
<img src="./images/multi-recur.gif" alt="multi-recur.gif">

</figure>

<p>
Trampoline ç¿»è¯‘æˆä¸­æ–‡æ˜¯è¹¦åºŠ, <i>è¹¦~è¹¦è¹¦è¹¦è¹¦</i> (è‡ªå·±è„‘è¡¥intel BGM)
</p>

<p>
å¦‚æœä½ çœ‹è¿‡è€å‹è®°è¿™é›†(Friends: The One with Ross's New Girlfriend), åº”è¯¥è®°å¾—è¿™ä¸ªæ¢—
</p>

<div class="epigraph"><blockquote>
<p>
Ross: you hang up first
</p>

<p>
Julie: No, you hang up first
</p>

<p>
Ross: No, you hang up first
&#x2026;
</p>

</blockquote></div>

<p>
ok, è¿™å°±æ˜¯ç›¸äº’é€’å½’(mutual recursion)
</p>

<p>
åœ¨ç»§ç»­è§£é‡Štrampolineæ˜¯å¦‚ä½•ä¼˜åŒ–ç›¸äº’é€’å½’ä¹‹å‰, å¯èƒ½æœ‰äº›åŒå­¦ä¸å¤ªæ¸…æ¥šä»€ä¹ˆæ˜¯å°¾é€’å½’ä¼˜åŒ–, å½“ç„¶å«Œæˆ‘å•°å—¦çš„å¯ä»¥ç›´æ¥å
<a href="#org230666e">ç”µæ¢¯</a>ç›´è¾¾.
</p>

<div id="outline-container-org2c2f5a7" class="outline-2">
<h2 id="org2c2f5a7">å°¾é€’å½’(tail recursion)</h2>
<div class="outline-text-2" id="text-org2c2f5a7">
<p>
åˆè¦æ‹¿ä¸€ä¸ªè¢«ä¸¾çƒ‚äº†çš„ä¾‹å­ - æ±‚nçš„é˜¶ä¹˜
</p>

<p>
å¾ˆå®¹æ˜“å°±å¯ä»¥å†™å‡ºæ¥
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #00008b;">function</span> <span style="color: #6a5acd;">fact</span>(<span style="color: #b8860b;">n</span>){
    <span style="color: #00008b;">if</span>(n==0)<span style="color: #00008b;">return</span> 1;
    <span style="color: #00008b;">return</span> n*fact(n-1);
}
</pre>
</div>

<p>
å¥½å§, è¿™å°±æ˜¯å…¸å‹çš„éå°¾é€’å½’, å› ä¸ºæœ€åä¸€ä¸ªæ“ä½œå¹¶ä¸æ˜¯è°ƒç”¨è‡ªå·±, è€Œæ˜¯ <b>ä¹˜æ³•</b>
</p>

<p>
æƒ³æƒ³æœ€åä¸€è¡Œ, å…ˆç®—å‡º <code>fact(n-1)</code>, ç„¶åä¹˜n, è¿”å›
</p>

<p>
é‚£ä¹ˆæ€ä¹ˆæ‰æ˜¯å°¾é€’å½’, å½“ç„¶æ˜¯æœ€åä¸€ä¸ªæ“ä½œä¸€å®šæ˜¯è°ƒç”¨è‡ªå·±.
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #00008b;">function</span> <span style="color: #6a5acd;">fact</span>(<span style="color: #b8860b;">n</span>, <span style="color: #b8860b;">acc</span>){
    <span style="color: #00008b;">if</span>(n==0)<span style="color: #00008b;">return</span> acc;
    <span style="color: #00008b;">return</span> fact(n-1, acc*n)
}
</pre>
</div>
<p>
ä¸¤ä¸ªåœ°æ–¹å€¼å¾—æ³¨æ„
</p>
<ul class="org-ul">
<li>çœ‹åˆ° <code>acc</code> äº†æ²¡æœ‰, è¿™å°±æ˜¯å…¸å‹çš„å°¾é€’å½’æœ€å¸¸è§çš„ä¸œè¥¿, ç”¨æ¥ç´¯è®¡æ¯æ¬¡é€’å½’è¿ç®—ç»“æœ</li>
<li>factå‡½æ•°çš„æœ€åä¸€ä¸ªæ“ä½œæ˜¯factæœ¬èº«</li>
</ul>

<p>
ç”±äºtail recuréå¸¸å®¹æ˜“æ”¹å†™æˆå¾ªç¯, ç¼–è¯‘å™¨å®¹æ˜“å¯¹å…¶è¿›è¡Œä¼˜åŒ–
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span style="color: #00008b;">function</span> <span style="color: #6a5acd;">fact</span>(<span style="color: #b8860b;">n</span>){
    <span style="color: #00008b;">var</span> <span style="color: #b8860b;">acc</span>=1,<span style="color: #b8860b;">i</span>=n
    <span style="color: #00008b;">while</span>(i!=0){
        acc=acc*i;
        i-=1;
    }
    <span style="color: #00008b;">return</span> acc
}
</pre>
</div>

<p>
æœ‰æ²¡æœ‰è§‰å¾—å°¾é€’å½’å’Œå¾ªç¯éå¸¸åƒ, å”¯ä¸€çš„åŒºåˆ«æ˜¯
</p>
<ul class="org-ul">
<li>å°¾é€’å½’ç”¨å‚æ•°é‡æ–°ç»‘å®šé€’å‡çš„n</li>
<li>å°¾é€’å½’ç”¨å‚æ•°é‡æ–°ç»‘å®šå åŠ å€¼acc</li>
<li>å¾ªç¯ç›´æ¥æ”¹å˜å˜é‡iæ¥è¿›è¡Œé€’å‡</li>
<li>å¾ªç¯å åŠ å˜é‡acc</li>
</ul>

<p>
ä½†æ€è·¯æ˜¯ä¸€æ¨¡ä¸€æ ·çš„
</p>

<div class="epigraph"><blockquote>
<p>
åœ¨clojureé‡Œ, å°¾é€’å½’æ˜¯ç”¨ <code>recur</code> æ¥ä¿è¯(scalarè²Œä¼¼æ˜¯@tail annotation), å¥½å¤„æ˜¯
</p>
<ol class="org-ol">
<li>ç”¨recurçš„ä¸€å®šæ˜¯å°¾é€’å½’, ç›´æ¥ä¼˜åŒ–</li>
<li>ç¼–è¯‘å™¨å¯ä»¥æ£€æŸ¥recurå‡ºç°çš„ä½ç½®æ˜¯å¦ä¸ºtail</li>
</ol>

</blockquote></div>
</div>
</div>
<div id="outline-container-org230666e" class="outline-2">
<h2 id="org230666e">ç›¸äº’é€’å½’(mutual recursion)</h2>
<div class="outline-text-2" id="text-org230666e">
<p>
ç›¸äº’é€’å½’ç”±äºæ˜¯å‡½æ•°ä¹‹é—´çš„äº’ç›¸è°ƒç”¨, åˆ™ä¸èƒ½åƒå°¾é€’å½’ä¸€æ ·ç›´æ¥ä¼˜åŒ–æˆå¾ªç¯å°±å®Œäº‹.
</p>
</div>
<div id="outline-container-org01b5eb7" class="outline-3">
<h3 id="org01b5eb7">DFA</h3>
<div class="outline-text-3" id="text-org01b5eb7">
<p>
ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­, ç›¸äº’é€’å½’ç»å¸¸ç”¨äºçŠ¶æ€æœºçš„å®ç°, æ¯”å¦‚è‡ªåŠ¨è´©å–æœº, å‡è®¾è¿™å°è´©å–æœºéå¸¸ç®€å•, åªåƒäº”å—,åªå–å·§å…‹åŠ›
</p>

<p>
é‚£ä¹ˆè¾“å…¥é›†æ˜¯ <code>[äº”å—, é€‰å·§å…‹åŠ›, æ‰¾é›¶]</code>, æ‰€ä»¥è´©å–æœºæ­£å¸¸çš„processæ˜¯ç±»ä¼¼
</p>

<p>
<code>5å— -&gt; å·§å…‹åŠ› -&gt;  æ‰¾2å—</code>
</p>

<p>
å¥½å§, æˆ‘ä»¬æ¥å®ç°ä¸€æŠŠ
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span style="color: #00008b;">function</span> <span style="color: #6a5acd;">eat_money</span>(<span style="color: #b8860b;">input_seq</span>){
    <span style="color: #00008b;">var</span> <span style="color: #b8860b;">input</span> = input_seq.shift()
    <span style="color: #00008b;">if</span>(input== <span style="color: #8b0000;">'&#20116;&#22359;'</span>)
        console.log(<span style="color: #8b0000;">'&#25910;&#21040;&#21602;,&#36873;&#20010;&#24039;&#20811;&#21147;&#21543;^_^'</span>)
        choose(input_seq)
    <span style="color: #00008b;">else</span>
        eat_money(input_seq)
}

<span style="color: #00008b;">function</span> <span style="color: #6a5acd;">choose</span>(<span style="color: #b8860b;">input_seq</span>){
    <span style="color: #00008b;">var</span> <span style="color: #b8860b;">input</span> = input_seq.shift()
    <span style="color: #00008b;">if</span>(input== <span style="color: #8b0000;">'&#24039;&#20811;&#21147;'</span>)
        console.log(<span style="color: #8b0000;">'&#36873;&#20102;&#24039;&#20811;&#21147;, &#25353;&#19979;&#25214;&#38646;&#25353;&#38062;, &#25105;&#36824;&#27424;&#20320;&#20004;&#22359;&#38065;&#21734;'</span>)
        changes(input_seq)
    <span style="color: #00008b;">else</span>
        choose(input_seq)
}

<span style="color: #00008b;">function</span> <span style="color: #6a5acd;">changes</span>(<span style="color: #b8860b;">input_seq</span>){
    <span style="color: #00008b;">var</span> <span style="color: #b8860b;">input</span> = input_seq.shift()
    <span style="color: #00008b;">if</span>(input==<span style="color: #8b0000;">'&#25214;&#38646;'</span>)
        console.log(<span style="color: #8b0000;">'&#27426;&#36814;&#20877;&#27425;&#20809;&#20020;'</span>)
        eat_money(input_seq)
    <span style="color: #00008b;">else</span>
        changes(input_seq)
}
</pre>
</div>

<p>
å‡è®¾æˆ‘æ˜¯ä¸ªæ€ªèœ€é»QA,æ¥åˆ°è¿™ä¸ªè´©å–æœºä¸Šæ€’ç‚¹è¿™æ ·ä»¥ç³»åˆ—æ“ä½œ, çœ‹æˆ‘ä»¬çš„è´©å–æœºæœ‰æ²¡æœ‰ç–¯æ‰
</p>

<p>
<code>['å·§å…‹åŠ›', 'å·§å…‹åŠ›', 'æ‰¾é’±', 'äº”å—', 'æ‰¾é’±', 'äº”å—', 'å·§å…‹åŠ›', 'äº”å—', 'æ‰¾é’±']</code>
</p>

<a class="jsbin-embed" href="https://jsbin.com/zapana/1/embed?js,console">JS Bin</a><script src="https://static.jsbin.com/js/embed.js"></script>

<p>
å¾ˆå¥½
</p>

<p>
ç°åœ¨é—®é¢˜æ¥äº†, å¦‚æœæˆ‘çš„ <code>input_seq</code> éå¸¸é•¿, æ¯”å¦‚
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span style="color: #00008b;">for</span>(<span style="color: #00008b;">var</span> <span style="color: #b8860b;">n</span>=15;n&gt;0;n--){
  input_seq=input_seq.concat(input_seq)
}
input_seq.length <span style="color: #8c8c8c; font-style: italic;">// </span><span style="color: #8c8c8c; font-style: italic;">=&gt; 294912</span>
</pre>
</div>
<p>
ç°åœ¨ <code>input_seq</code> éå¸¸å¤§, å†è¯•è¯•(è¯·åˆ°nodeä¸Šè¯•)
</p>

<pre class="example">
...
æ”¶åˆ°å‘¢,é€‰ä¸ªå·§å…‹åŠ›å§^_^
RangeError: Maximum call stack size exceeded
...
</pre>

<p>
çˆ†æ ˆäº†å§
</p>
</div>
</div>

<div id="outline-container-orgfa8a680" class="outline-3">
<h3 id="orgfa8a680">Trampoline</h3>
<div class="outline-text-3" id="text-orgfa8a680">
<p>
Trampolineå°±æ˜¯ç”¨æ¥è§£å†³ç›¸äº’é€’å½’çˆ†æ ˆçš„é—®é¢˜, ç­‰ç­‰, ä»€ä¹ˆæ˜¯Trampoline
</p>

<p>
trampolineæ˜¯ä¸€ä¸ªå‡½æ•°:
</p>
<ol class="org-ol">
<li>æ¥å—ä¸€ä¸ªå‡½æ•°, ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°çš„å‚æ•°</li>
<li>è°ƒç”¨è¯¥å‡½æ•°</li>
<li>å¦‚æœè¿”å›å€¼æ˜¯ä¸ªå‡½æ•°, ç»§ç»­è°ƒç”¨</li>
<li>å¦‚æœè¿”å›å€¼ä¸æ˜¯å‡½æ•°, åœæ­¢</li>
</ol>

<p>
æ¯”å¦‚å¯ä»¥æŠŠè´©å–æœºç®€å•çš„æ”¹é€ ä¸€ä¸‹, è®©ä»–è¿”å›å‡½æ•°, è€Œä¸æ˜¯ç›´æ¥è°ƒç”¨å…¶ä»–å‡½æ•°, æ³¨æ„ç¬¬<a href="#coderef-trampoline" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-trampoline');" onmouseout="CodeHighlightOff(this, 'coderef-trampoline');">6</a>è¡Œ
</p>

<div class="org-src-container">
<pre class="src src-javascript"><span class="linenr"> 1: </span><span style="color: #00008b;">function</span> <span style="color: #6a5acd;">eat_money</span>(<span style="color: #b8860b;">input_seq</span>){
<span class="linenr"> 2: </span>  <span style="color: #00008b;">if</span>(input_seq.length==0)<span style="color: #00008b;">return</span>
<span class="linenr"> 3: </span>  <span style="color: #00008b;">var</span> <span style="color: #b8860b;">input</span> = input_seq.shift()
<span class="linenr"> 4: </span>  <span style="color: #00008b;">if</span>(input== <span style="color: #8b0000;">'&#20116;&#22359;'</span>){
<span class="linenr"> 5: </span>    console.log(<span style="color: #8b0000;">'&#25910;&#21040;&#21602;,&#36873;&#20010;&#24039;&#20811;&#21147;&#21543;^_^'</span>)
<span id="coderef-trampoline" class="coderef-off"><span class="linenr"> 6: </span>    <span style="color: #00008b;">return</span> <span style="color: #00008b;">function</span>(){</span>
<span class="linenr"> 7: </span>      <span style="color: #00008b;">return</span> choose(input_seq)
<span class="linenr"> 8: </span>    }
<span class="linenr"> 9: </span>  }<span style="color: #00008b;">else</span>{
<span class="linenr">10: </span>    <span style="color: #00008b;">return</span> <span style="color: #00008b;">function</span>(){
<span class="linenr">11: </span>      <span style="color: #00008b;">return</span> eat_money(input_seq)
<span class="linenr">12: </span>    }
<span class="linenr">13: </span>  } 
<span class="linenr">14: </span>}
</pre>
</div>
<p>
è¿™æ ·æ¯æ¬¡è°ƒç”¨eat_moneyå…¶å®è¿”å›ä¸€ä¸ªé—­åŒ…, éœ€è¦å†è°ƒç”¨ä¸€ä¸‹æ‰èƒ½çœŸçš„æ‰§è¡Œ <code>choose</code> å‡½æ•°.
</p>

<p>
ç»è¿‡è¿™æ ·çš„æ”¹é€ ä»¥å(å½“ç„¶å…¶ä»–å‡½æ•°ä¹Ÿè¦ç±»ä¼¼çš„åŠ é—­åŒ…), å°±å¯ä»¥ç”¨ <code>trampoline</code> æ¥æ‰§è¡Œä»–ä»¬äº†
</p>
<div class="org-src-container">
<pre class="src src-javascript">mori.trampoline(eat_money,input_seq)
</pre>
</div>

<p>
ç”±äºeat_moneyè¿”å›ä¸€ä¸ªé—­åŒ…,ä¹Ÿå°±æ˜¯å‡½æ•°, trampolineä¼šç»§ç»­æ‰§è¡Œè¿™ä¸ªè¿”å›çš„é—­åŒ…,ç›´åˆ°è¿”å›çš„ä¸æ˜¯å‡½æ•°ä¸ºæ­¢
</p>

<p>
è€Œtrampolineä¼˜åŒ–ä¹‹å‰çš„ <code>eat_money</code>, å…¶å®å°±æ˜¯æŠŠæœ€åè°ƒç”¨çš„å‡½æ•°å‹åˆ°è°ƒç”¨æ ˆé‡Œ, ç„¶å
å‹å…¥è°ƒç”¨æ ˆçš„è¿™ä¸ªå‡½æ•°æ¯”å¦‚æ˜¯ <code>choose</code> åˆè°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°æ¯”å¦‚ <code>changes</code>, ç„¶åä¸€ç›´å‹å‹å‹, å‹åˆ°æœ€åå†ä»æ ˆé‡Œå¼¹å‡ºæ¥ä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œ.
</p>


<figure>
<img src="./images/stack.gif" alt="stack.gif">

</figure>
<div class="org-src-container">
<pre class="src src-javascript"><span style="color: #00008b;">function</span> <span style="color: #6a5acd;">eat_money</span>(<span style="color: #b8860b;">input_seq</span>){
    <span style="color: #00008b;">return</span> choose(input_seq){
        <span style="color: #00008b;">return</span> changes(input_seq){
            <span style="color: #00008b;">return</span> ...
        }
    }
}
</pre>
</div>

<p>
æ‰€ä»¥å¦‚æœå‹å…¥çš„å‡½æ•°ä¸ªæ•°è¶…è¿‡æ ˆçš„å®¹é‡, æ ˆ <del>èŠèŠ±</del> å°±è¢«çˆ†äº†
è€Œtrampolineåˆ™æ˜¯åœ¨å‡½æ•°æœ€åè¿”å›ä¸€ä¸ªé—­åŒ…, é—­åŒ…å†…çš„é€’å½’è°ƒç”¨å¹¶æœªè¢«è°ƒç”¨, ä¹Ÿå°±æ˜¯æœªè¢«å‹æ ˆ, æ‰€ä»¥æ˜¯è¿™æ ·çš„
</p>


<figure>
<img src="./images/conga.jpg" alt="conga.jpg">

</figure>

<div class="org-src-container">
<pre class="src src-javascript"><span style="color: #00008b;">var</span> <span style="color: #b8860b;">res</span> = eat_money(input_seq)
<span style="color: #00008b;">while</span>(<span style="color: #6b8e23;">true</span>){
    <span style="color: #00008b;">if</span>(<span style="color: #00008b;">typeof</span> res ==<span style="color: #8b0000;">'function'</span>)res = res()
    <span style="color: #00008b;">else</span>
        <span style="color: #00008b;">break</span>
}
</pre>
</div>

<p>
ä¼˜åŒ–æˆå¾ªç¯äº†ä¸æ˜¯.
</p>

<p>
å®Œæ•´ä»£ç , å¦‚æœuncomment æ³¨é‡Šæ‰çš„ä»£ç æµè§ˆå™¨ä¼štimeout, è¯·åœ¨nodeä¸Šè·‘, åæ­£ä¸ä¼šçˆ†æ ˆ
</p>
<a class="jsbin-embed" href="https://jsbin.com/cerase/2/embed?js,console">JS Bin</a><script src="https://static.jsbin.com/js/embed.js"></script>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer>
  <p>Author: Jichao Ouyang
    <a class="github-button" href="https://github.com/sponsors/jcouyang" data-icon="octicon-heart" aria-label="Sponsor @jcouyang on GitHub">Sponsor</a>
    <a aria-label="Follow @jcouyang on GitHub" data-count-aria-label="# followers on GitHub" data-count-api="/users/jcouyang#followers" data-count-href="/jcouyang/followers" href="https://github.com/jcouyang" class="github-button">Follow</a>
  </p>
  <p>Created: 2015-05-30 Sat 00:00</p>
  <p>Generated by: <a href="https://www.gnu.org/software/emacs/">Emacs</a> 26.3 (<a href="https://orgmode.org">Org</a> mode 9.3.6) &#215; <a href="https://github.com/jcouyang/orgpress">OrgPress</a></p>
  <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License</a>.
  <input type="swiftype" class="st-default-search-input" placeholder="Search"/>
  <a class="gumroad-button" href="https://gum.co/grokking-monad?wanted=true" target="_blank" data-gumroad-single-product="true">èŒƒç•´è®ºè£…é€¼æŒ‡å—ï¼Œè¯·è‡ªè§‰æ’é˜Ÿè£…é€¼</a>
  <div id="danmaku-comments"></div>
  <div id="disqus_thread"></div>
</footer>
</div>
</body>
</html>
