<!DOCTYPE html>
<html>
<head>
<!-- 2015-10-29 Thu 23:14 -->
<meta  charset="utf-8">
<meta  name="viewport" content="width=device-width, initial-scale=1">
<title>ä½¿ç”¨ dotfiles å’Œ stow ç®¡ç†ä½ çš„ dotfiles</title>
<meta  name="generator" content="Org-mode">
<meta  name="author" content="æ¬§é˜³ç»§è¶…">
<link rel="apple-touch-icon" sizes="57x57" href="/assets/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/assets/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
<link rel="manifest" href="/assets/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/style/pixyll.css"/>
<link rel="alternate" type="application/rss+xml" title="Jichao Ouyang" href="http://blog.oyanglul.us/index.xml"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="/index.html"> UP </a>
 |
 <a accesskey="H" href="/~jichao.ouyang.html"> HOME </a>
</div><div id="content">
<header>
<h1 class="title">ä½¿ç”¨ dotfiles å’Œ stow ç®¡ç†ä½ çš„ dotfiles</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">ä½¿ç”¨ stow ç®¡ç† symlink</a></li>
<li><a href="#orgheadline2">push to github</a></li>
<li><a href="#orgheadline3">submodule vs subtree</a></li>
</ul>
</div>
</nav>
<p>
å¯èƒ½çœ‹æ ‡é¢˜ä½ è§‰å¾—æˆ‘ç–¯äº†ï¼Œä»€ä¹ˆå«ç”¨ dotfiles ç®¡ç†ä½ çš„ dotfilesã€‚
</p>

<p>
ç¬¬ä¸€ä¸ª <a href="http://dotfiles.github.io/">dotfiles</a> æŒ‡å°† HOME ç›®å½•ä¸‹çš„ <code>.XXX</code> (å®ƒä»¬æ˜¯çœŸçš„å­—é¢æ„æ€dotfiles) æ–‡ä»¶åŒæ­¥åˆ° Github ä¸Šçš„æ–¹å¼ã€‚
é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­è£…çš„å¤§éƒ¨åˆ†å·¥å…·ï¼Œéƒ½ä¼šåœ¨ HOME ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä»¥ <code>.</code> å¼€å¤´çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œæ”¾ç½®é…ç½®æˆ–è€…çŠ¶æ€ã€‚
</p>

<p>
å› æ­¤æˆ‘ä»¬å¸Œæœ›çš„æ˜¯ç”¨ github ç‰ˆæœ¬ç®¡ç†è¿™äº› <b>é…ç½®</b> ï¼Œè€Œä¸æ˜¯ <b>çŠ¶æ€</b> ã€‚
</p>

<p>
å¥½å§ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹åˆ°åº•å¦‚ä½•ç‰ˆæœ¬ç®¡ç†è¿™äº› â€œdotfilesâ€ã€‚
</p>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">ä½¿ç”¨ stow ç®¡ç† symlink</h2>
<div class="outline-text-2" id="text-orgheadline1">
<p>
GNU stow æ˜¯ç®¡ç†ç¬¦å·é“¾æ¥ï¼ˆsymlinkï¼‰çš„ä¸€ä¸ªå°å…¬ä¸¾ã€‚åªéœ€è¦
</p>
<div class="org-src-container">

<pre class="src src-shell-script">brew install stow
</pre>
</div>
<p>
æˆ–è€…å¦‚æœä½ é mac æœºå™¨ï¼Œè¯·è®¿é—®<a href="http://www.gnu.org/software/stow/">å®˜ç½‘</a>çœ‹çœ‹å¦‚ä½•å®‰è£…
</p>

<p>
å®‰è£…äº† stow ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹ symlink ä¸€äº› dotfiles äº†ã€‚ä»¥ fish å’Œ omf ä¸ºä¾‹ï¼Œå®ƒä»¬æœ¬æ¥çš„ HOME ç›®å½•ä¸‹
çš„ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š
</p>
<pre class="example">
<span class="linenr">1: </span>â‹Š&gt; ~/dotfiles on master â¨¯ tree ~/.config                                             22:25:34
<span class="linenr">2: </span>/Users/jcouyang/.config
<span class="linenr">3: </span>â”œâ”€â”€ fish
<span class="linenr">4: </span>â”‚Â Â  â”œâ”€â”€ config.fish
<span class="linenr">5: </span>â”‚Â Â  â”œâ”€â”€ fish_history
<span class="linenr">6: </span>â”‚Â Â  â””â”€â”€ fishd.a45e60d0d7e3
<span class="linenr">7: </span>â””â”€â”€ omf
<span class="linenr">8: </span>    â”œâ”€â”€ bundle
<span class="linenr">9: </span>    â””â”€â”€ theme
</pre>

<p>
 æ³¨æ„çœ‹æˆ‘ä»¬éœ€è¦ç‰ˆæœ¬ç®¡ç†æ–‡ä»¶åº”è¯¥æ˜¯ config.fish å’Œ omf ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œäºæ˜¯ï¼Œæˆ‘å°†è¿™äº›æ–‡ä»¶è€ƒåˆ°æˆ‘æ–°å»º
çš„ <code>~/dotfiles</code> ç›®å½•ä¸‹
</p>

<pre class="example">
mkdir ~/dotfiles/
cd ~/dotfiles
mkdir -p fish/.config/fish
mv ~/.config/fish/config.fish fish/.config/fish/
ls fish/.config/fish/
</pre>

<p>
ç°åœ¨å¯ä»¥ä½¿ç”¨ stow åˆ›å»º symlink äº†ã€‚
</p>
<div class="org-src-container">

<pre class="src src-shell-script">stow fish
</pre>
</div>

<p>
ç…ç… ç°åœ¨ <code>~/.config</code> å˜ä»€ä¹ˆæ ·äº†
</p>
<pre class="example">
â‹Š&gt; ~/dotfiles on master â¨¯ tree ~/.config                                             22:33:55
/Users/jcouyang/.config
â”œâ”€â”€ fish
â”‚Â Â  â”œâ”€â”€ config.fish -&gt; ../../dotfiles/fish/.config/fish/config.fish
â”‚Â Â  â”œâ”€â”€ fish_history
â”‚Â Â  â””â”€â”€ fishd.a45e60d0d7e3
</pre>

<p>
<code>config.fish</code> è¢«é“¾åˆ°äº†æˆ‘åˆ›å»ºçš„ <code>dotfiles/fish</code> åº•ä¸‹åŒæ ·çš„ç›®å½•ä¸­ã€‚
</p>

<p>
è¿™æ ·å…¶å®æ¯æ¬¡ä¿®æ”¹ <code>config.fish</code> éƒ½å®é™…ä¸Šæ˜¯åœ¨ä¿®æ”¹ <code>~/dotfiles</code>  ä¸‹çš„ <code>config.fish</code>
</p>

<p>
 å¦å¤–æˆ‘ä»¬åœ¨è¯•è¯•ç®¡ç† omf(oh-my-fish)ï¼Œä¼¼ä¹ omfä¸‹é¢æ²¡æœ‰ä»€ä¹ˆçŠ¶æ€ï¼Œbundle å’Œ theme éƒ½æ˜¯é…ç½®ï¼Œæ‰€ä»¥
ä¸å…¶ symlink æ–‡ä»¶ï¼Œä¸å¦‚ symlink æ•´ä¸ª omf ç›®å½•ã€‚åŒæ ·åœ¨ <code>~/dotfiles</code>  ç›®å½•ä¸‹è¿è¡Œ
</p>

<pre class="example">
mkdir -p ~/dotfiles/omf/.config
mv ~/.config/omf ~/dotfiles/omf/.config/omf
stow omf
</pre>
<p>
è¿™æ—¶å€™å†çœ‹çœ‹ <code>~/.config</code>
</p>
<pre class="example">
/Users/jcouyang/.config
â”œâ”€â”€ fish
â”‚Â Â  â”œâ”€â”€ config.fish -&gt; ../../dotfiles/fish/.config/fish/config.fish
â”‚Â Â  â”œâ”€â”€ fish_history
â”‚Â Â  â””â”€â”€ fishd.a45e60d0d7e3
â””â”€â”€ omf -&gt; ../dotfiles/omf/.config/omf
</pre>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2">push to github</h2>
<div class="outline-text-2" id="text-orgheadline2">
<p>
å¼ºçƒˆæ¨èå…ˆå®‰è£… <a href="http://hub.github.com/">hub</a>
</p>
<div class="org-src-container">

<pre class="src src-shell-script">brew install hub
hub create dotfiles
git add .
git commit -m <span style="color: #8b0000;">"my awesome dotfiles"</span>
git push origin master
</pre>
</div>

<p>
å°±è¿™ä¹ˆç®€å•ï¼Œä½ çš„é…ç½®æ–‡ä»¶å°±å®‰å…¨çš„æ”¾åˆ°äº† github ä¸Šï¼Œå¹¶ä¸”ä»¥åæ¯ä¸€æ¬¡æ”¹åŠ¨éƒ½å†ä¹Ÿä¸æ€•æ”¹æŒ‚äº†ã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-2">
<h2 id="orgheadline3">submodule vs subtree</h2>
<div class="outline-text-2" id="text-orgheadline3">
<p>
ä½†æ˜¯æˆ‘æœ‰äº›é…ç½®æ–‡ä»¶å…¶å®åœ¨å¦å¤–ä¸€ä¸ª repo ä¸Šï¼Œè¿™æ—¶å€™æˆ‘æ€ä¹ˆèƒ½è·Ÿè¿™ä¸ª <code>dotfiles</code> repo åˆåˆ°ä¸€èµ·å‘¢ï¼Ÿ
</p>

<p>
æ¯”å¦‚<a href="https://github.com/jcouyang/.emacs.d">æˆ‘çš„ emacs é…ç½®æ–‡ä»¶</a>ï¼Œå…¶å®æ˜¯å•ç‹¬ç®¡ç†åœ¨å¦ä¸€ repo çš„ã€‚
</p>

<p>
è¿™æ—¶å€™ git ä¸ºæˆ‘ä»¬æä¾›äº†ä¸¤ç§æ–¹å¼æ¥ç®¡ç† submodule å’Œ subtreeã€‚ æˆ‘ç”¨çš„æ˜¯åä¸€ç§ï¼Œè‡³äº submodule
ä¸ºä»€ä¹ˆä¸é€‚ç”¨ï¼Œç½‘ä¸Šæœ‰<a href="http://blogs.atlassian.com/2013/05/alternatives-to-git-submodule-git-subtree/">å¤§é‡æ–‡ç« </a>è§£é‡Šï¼Œæˆ‘å°±æ‡’å¾—ç¿»è¯‘äº†ã€‚
</p>

<div class="org-src-container">

<pre class="src src-shell-script">&#8906;&gt; ~/dotfiles on master &#10799; git subtree add --prefix emacs/.emacs.d git@github.com:jcouyang/.emacs.d.git master --squash
</pre>
</div>
<p>
è¿™è¡Œ subtree å‘½ä»¤æŠŠæˆ‘çš„ emacs é…ç½®ä»æˆ‘çš„ repo ä¸‹ä¸‹æ¥ä½œä¸º subtreeï¼Œå¹¶ squash(åˆæˆä¸€ä¸ª) commits
</p>

<p>
è¿™æ—¶æˆ‘çš„ gitæ ‘æ˜¯è¿™æ ·çš„
</p>
<pre class="example">
\* commit b33c46bfebe4a28849aa967222555a4676fdb9f4 (HEAD -&gt; master)
|\  Merge: 1b240f8 e6dacdc
| | Author: Jichao Ouyang &lt;oyanglulu@gmail.com&gt;
| | Date:   Thu Oct 29 21:33:06 2015 +0800
| |
| |     Merge commit 'e6dacdcd1f85cdcb3b5fa488edb7b8f31c297b3f' as 'emacs/.emacs.d'
| |
| * commit e6dacdcd1f85cdcb3b5fa488edb7b8f31c297b3f
</pre>

<p>
å¯ä»¥çœ‹è§æŠŠ æˆ‘çš„ emacs repo merge äº†è¿›æ¥ï¼Œè¿™æ ·å°±è·Ÿåœ¨ <code>dotfiles</code> repo çš„ä»£ç ä¸€æ ·ï¼Œè¯¥ commit çš„ commit è¯¥
 push çš„ pushã€‚
</p>

<p>
ä¸‹é¢çœ‹å¦‚ä½• push å›æˆ‘çš„ emacs repoã€‚
</p>

<p>
æ¯”å¦‚æˆ‘ç°åœ¨å¯¹ subtree emacs åšäº†æ”¹åŠ¨å¹¶ commit äº†ã€‚ç„¶å
</p>

<pre class="example">
git remote add emacs git@github.com:jcouyang/.emacs.d.git
git subtree push --prefix emacs/.emacs.d emacs master
</pre>
<ol class="org-ol">
<li>å…ˆæŠŠ emacs çš„ repo åŠ åˆ°æˆ‘çš„ remote é‡Œï¼Œç»™ä¸ªåå­— emacs</li>
<li>ç”¨ subtree push ç›´æ¥ push åˆ° remote emacsï¼Œbranch master</li>
</ol>

<p>
<b>LLAP ğŸ––</b>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p>Author: æ¬§é˜³ç»§è¶…</p>
<p>Modified: 2015-10-29 Thu 23:13</p>
<p><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.3.2)</p>
<p>&lt;&gt; with _(:Ğ·ã€âˆ )_ by <a href="https://github.com/jcouyang/orgpress">OrgPress</a></p>
<p><a href="/index.xml">RSS</a> | <a href="/archive.html">ARCHIVE</a> | <a href="/theindex.html">INDEX</a> | <a href="#" id="edit-in-github">EDIT</a></p>

<script>
 (function(){
   document.getElementById('edit-in-github').addEventListener("click",function(){
     var pathname = window.location.pathname;
     window.location.href = "https://github.com/jcouyang/blog/edit/master/org"+pathname.replace(".html",".org");
   })
 })()
</script>
<!-- Google Analystics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32314154-10', 'auto');
  ga('send', 'pageview');

</script>
<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
 var disqus_shortname = 'orgblog';
 var href = window.location.href;
 href.replace(/^https/, 'http');
 var disqus_url = href;
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<!-- Swiftype Search -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','eGLqWnAM75a66SiXKVW3');
</script>
<script>
 ((window.gitter = {}).chat = {}).options = {
   room: 'oyanglul.us'
 };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
</div>
</body>
</html>
